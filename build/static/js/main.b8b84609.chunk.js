(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(e,t,n){e.exports=n(52)},33:function(e,t,n){},36:function(e,t){},38:function(e,t){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),i=n.n(o),s=(n(33),n(12)),l=n(1),c=n(2),u=n(4),p=n(3),m=n(26),h=(n(48),function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(m.a,{ref:this.props.buttonRef,onFileLoad:this.props.handleOnFileLoad,onError:this.handleOnError,noClick:!0,noDrag:!0,config:{header:!0},onRemoveFile:this.props.handleOnRemoveFile},(function(t){var n=t.file;return r.a.createElement("aside",null,r.a.createElement("button",{className:"upload-btn",type:"button",onClick:e.props.handleOpenDialog},"Upload File"),r.a.createElement("div",{className:"file-name-display"},n&&n.name))}))}}]),n}(a.Component)),d=(n(49),n(50),function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.inputData;return r.a.createElement("input",{name:e.name,type:e.type,placeholder:e.placeholder,value:e.value,key:e.key,onChange:this.props.changeHandler})}}]),n}(a.Component)),f=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.inputs.map((function(t,n){return r.a.createElement(d,{inputData:t,key:t.name,changeHandler:e.props.onInputChange})}));return r.a.createElement("div",{className:"dataForm"},t)}}]),n}(a.Component),g=(n(51),function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).buttonRef=r.a.createRef(),e.inputs=[{name:"appKey",type:"text",placeholder:"Please insert appKey here...",value:""},{name:"secretKey",type:"text",placeholder:"Please insert secretKey here...",value:""},{name:"email",type:"email",placeholder:"Please enter your email...",value:""}],e.state={inputs:e.inputs,csvData:[],isSubmitted:!1,isClientError:!1,isServerError:!1,isLoading:!1,serverErrorMsg:"",clientErrorMsg:"",successMsg:"Success! Look out for a confirmation email!"},e.handleOnFileLoad=function(t){e.setState({csvData:t.map((function(e){return e.data}))})},e.handleOpenDialog=function(t){e.buttonRef.current&&e.buttonRef.current.open(t)},e.handleOnError=function(e,t,n,a){console.log(e)},e.inputChange=function(t){var n=Object(s.a)(e.state.inputs);n.find((function(e){return e.name===t.target.name})).value=t.target.value,e.setState({inputs:n})},e.onFormSubmit=function(t){e.setState({isSubmitted:!1,isServerError:!1,isClientError:!1}),e.isFormValid()?(e.setState({isLoading:!0}),fetch("https://ps-tpr2map.herokuapp.com/create-orders",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.json()})).then((function(t){200===t.status?e.setState({isSubmitted:!0,isLoading:!1}):e.setState({serverErrorMsg:t.message,isServerError:!0,isLoading:!1})}))):e.setState({isClientError:!0,clientErrorMsg:"One or more of the fields are missing..."})},e}return Object(c.a)(n,[{key:"isFormValid",value:function(){var e=this.state.inputs.filter((function(e){return""!==e.value}));return this.state.inputs.length===e.length&&0!==this.state.csvData.length}},{key:"render",value:function(){var e=this.state,t=e.successMsg,n=e.serverErrorMsg,a=e.clientErrorMsg,o=e.inputs,i=e.isSubmitted,s=e.isServerError,l=e.isClientError,c=e.isLoading;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"logo-contianer"},r.a.createElement("img",{className:"yotpo-logo",src:"/yotpo-logo.png",alt:"yotpo-logo"})),r.a.createElement(f,{onInputChange:this.inputChange,inputs:o}),r.a.createElement(h,{handleOnFileLoad:this.handleOnFileLoad,handleOpenDialog:this.handleOpenDialog,handleOnError:this.handleOnError,buttonRef:this.buttonRef}),r.a.createElement("div",{className:"controls-container"},r.a.createElement("button",{className:"submit-btn",onClick:this.onFormSubmit,disabled:this.isLoading,type:"submit"},"Submit")),i?r.a.createElement("p",{className:"success-msg"},t):null,s?r.a.createElement("p",{className:"error-msg"},n):null,l?r.a.createElement("p",{className:"error-msg"},a):null,c?r.a.createElement("div",{className:"loader-container"},r.a.createElement("img",{src:" /loader.gif"})):null)}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.b8b84609.chunk.js.map